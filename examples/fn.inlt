
type T: +
type Fn: +

agent['f | 'f? <= 'o, 'i < 'o] Lam(Fn'f, T'i, !T'o)
agent['a < 'b] App(!Fn'a, !T'a, T'b)

rule Lam(_, i, o) App(_, i, o) {}

net['a | 'a? <= 'c, 'b < 'c] lam(f: Fn'a, i: T'b, o: !T'c) {
  Lam(f, i, o)
}

net['a < 'b] compose(f: !Fn'a, g: !Fn'a, fg: Fn'b) {
  Lam(fg, x, z)
  App(f, x, y)
  App(g, y, z)
}
